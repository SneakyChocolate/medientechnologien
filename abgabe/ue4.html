<html>

<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="format.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="tables.css">
    <style type="text/css">
        a:link {
            font-family: Arial;
            font-size: 10pt;
            text-decoration: none;
        }

        a:visited {
            font-family: Arial;
            font-size: 10pt;
            text-decoration: none;
        }

        a:hover {
            color: #FF3333;
            text-decoration: none;
            font-weight: normal;
            font-size: 10pt;
        }
    </style>
</head>

<body>

    <iframe src="oben.html" width="800" height="120" name="IFrame3" id="IFrame3" scrolling="no" frameborder="0">
        <p>Ihr Browser kann leider keine eingebe5tteten Frames anzeigen:Sie k&ouml;nnen die eingebettete Seite
            &uuml;ber den
            folgenden.</p>
    </iframe>

    <h2>Übung 4</h2>
    <h3>Aufgabe 1</h3>
    <h2>a)</h2>
    <p>   
        Das menschliche Auge sieht im grünen Spektralbereich am besten und erkennt Helligkeitsunterschiede besser als Farb- und Sättigungsunterschiede. Die Trennung von Luminanz (\(Y\)) und Chrominanz (\(Cb, Cr\)) reduziert die Farbinformation und beeinträchtigt dabei nicht die wahrgenommene Bildqualität erheblich, sodass dies für Anwendungen wie die Bildkompression entscheidend ist.
    </p>

    <h2>b)</h2>
    
    <div class="gallery">
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_red_only_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_green_only_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_blue_only_.bmp" alt="">
        </div>
    </div>
    <br>
    <div class="gallery">
        <div class="gallery-item">
            <img src="./aufgabe4-images/Nature_Gruppe4_red_only_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Nature_Gruppe4_green_only_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Nature_Gruppe4_blue_only_.bmp" alt="">
        </div>
    </div>

    <p>Hilfsfunktionen:</p>
    
    <pre>
        public static PixelColor copy(PixelColor pixel) {
            return new PixelColor(pixel.r, pixel.g, pixel.b);
        }
        public static PixelColor multiply_pixel(PixelColor pixelColor, double r, double g, double b) {
            pixelColor.r *= r;
            pixelColor.g *= g;
            pixelColor.b *= b;
            return pixelColor;
        }
    </pre>
    
    <p>Funktion:</p>
    
    <pre>
        public static void multiply_rgb(double r, double g, double b) {
            for (int y = 0; y < bmp.image.getHeight(); y++) {
                for (int x = 0; x < bmp.image.getWidth(); x++) {
                    var pixel = bmp.image.getRgbPixel(x, y);
                    var newpixel = new PixelColor(
                        (int) (r * pixel.r),
                        (int) (b * pixel.b),
                        (int) (g * pixel.g)
                    );
                    rgbImage.setRgbPixel(x, y, newpixel);
                }
            }
        }
    </pre>
    
    <p>Anwendung:</p>

    <pre>
        // rgb only
        if (args[2].compareTo("red_only") == 0) {
            multiply_rgb(1, 0, 0);
        }
        else if (args[2].compareTo("green_only") == 0) {
            multiply_rgb(0, 1, 0);
        }
        else if (args[2].compareTo("blue_only") == 0) {
            multiply_rgb(0, 0, 1);
        }
    </pre>
    <br>
    <h2>c)</h2>
    
    <div class="gallery">
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_ycbcr_y_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_ycbcr_cb_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <img src="./aufgabe4-images/Manmade_Gruppe4_ycbcr_cr_.bmp" alt="">
        </div>
    </div>
    <br>
    
    <div class="gallery">
        <div class="gallery-item">
            <p>Y:</p>
            <img src="./aufgabe4-images/Nature_Gruppe4_ycbcr_y_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <p>Cb:</p>
            <img src="./aufgabe4-images/Nature_Gruppe4_ycbcr_cb_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <p>Cr:</p>
            <img src="./aufgabe4-images/Nature_Gruppe4_ycbcr_cr_.bmp" alt="">
        </div>
    </div>
    <br>
    <p>Hilfsfunktionen:</p>
    <pre>
        public static PixelColor RGB_to_YCbCr(PixelColor rgb) {
            var mat = new double[][] {
                new double[] {0.299, 0.587, 0.114},
                new double[] {-0.169, -0.331, 0.5},
                new double[] {0.5, -0.419, -0.081},
            };
            var mul = new double[] {rgb.r, rgb.g, rgb.b};
            int y  = (int) (mat[0][0] * mul[0] + mat[0][1] * mul[1] + mat[0][2] * mul[2]);
            int cb = (int) (mat[1][0] * mul[0] + mat[1][1] * mul[1] + mat[1][2] * mul[2]) + 128;
            int cr = (int) (mat[2][0] * mul[0] + mat[2][1] * mul[1] + mat[2][2] * mul[2]) + 128;
            return new PixelColor(y, cb, cr);
        }
        public static PixelColor YCbCr_to_RGB(PixelColor ycbcr) {
            var mat = new double[][] {
                new double[] {1, 0, 1.403},
                new double[] {1, -0.344, -0.714},
                new double[] {1, 1.773, 0},
            };
            var mul = new double[] {ycbcr.r, ycbcr.g - 128, ycbcr.b - 128};
            int r = (int) (mat[0][0] * mul[0] + mat[0][1] * mul[1] + mat[0][2] * mul[2]);
            int g = (int) (mat[1][0] * mul[0] + mat[1][1] * mul[1] + mat[1][2] * mul[2]);
            int b = (int) (mat[2][0] * mul[0] + mat[2][1] * mul[1] + mat[2][2] * mul[2]);
            return new PixelColor(r, g, b);
        }
    </pre>

    <p>Funktionen:</p>

    <pre>

        public static void image_to_ycbcr_y() {
            for (int y = 0; y < bmp.image.getHeight(); y++) {
                for (int x = 0; x < bmp.image.getWidth(); x++) {
                    // ********* Done ***************
                    var pixel = bmp.image.getRgbPixel(x, y);
                    var ycbcr = RGB_to_YCbCr(pixel);
                    ycbcr.g = 128;
                    ycbcr.b = 128;
                    var newpixel = YCbCr_to_RGB(ycbcr);
                    rgbImage.setRgbPixel(x, y, newpixel);
                }
            }
        }
        public static void image_to_ycbcr_cr() {
            for (int y = 0; y < bmp.image.getHeight(); y++) {
                for (int x = 0; x < bmp.image.getWidth(); x++) {
                    // ********* Done ***************
                    var pixel = bmp.image.getRgbPixel(x, y);
                    var ycbcr = RGB_to_YCbCr(pixel);
                    ycbcr.r = 128;
                    ycbcr.b = 128;
                    var newpixel = YCbCr_to_RGB(ycbcr);
                    rgbImage.setRgbPixel(x, y, newpixel);
                }
            }
        }
        public static void image_to_ycbcr_cb() {
            for (int y = 0; y < bmp.image.getHeight(); y++) {
                for (int x = 0; x < bmp.image.getWidth(); x++) {
                    // ********* Done ***************
                    var pixel = bmp.image.getRgbPixel(x, y);
                    var ycbcr = RGB_to_YCbCr(pixel);
                    ycbcr.r = 128;
                    ycbcr.g = 128;
                    var newpixel = YCbCr_to_RGB(ycbcr);
                    rgbImage.setRgbPixel(x, y, newpixel);
                }
            }
        }

    </pre>

    <h2>d)</h2>

    <div class="gallery">
        <div class="gallery-item">
            <p>Rekonstruiert Nature:</p>
            <img src="./aufgabe4-images/Nature_Gruppe4_ycbcr_.bmp" alt="">
        </div>
        <div class="gallery-item">
            <p>Rekonstruiert Manmade:</p>
            <img src="./aufgabe4-images/Manmade_Gruppe4_ycbcr_.bmp" alt="">
        </div>
    </div>
    <br>
    <pre>

        public static void image_to_ycbcr() {
            for (int y = 0; y < bmp.image.getHeight(); y++) {
                for (int x = 0; x < bmp.image.getWidth(); x++) {
                    // ********* Done ***************
                    var pixel = bmp.image.getRgbPixel(x, y);
                    var ycbcr = RGB_to_YCbCr(pixel);
                    var newpixel = YCbCr_to_RGB(ycbcr);
                    rgbImage.setRgbPixel(x, y, newpixel);
                }
            }
        }

    </pre>
</body>

</html>
